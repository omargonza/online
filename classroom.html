<!DOCTYPE html>
<html lang="es-AR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Classroom · Miss Noe Online English</title>
  <meta name="description" content="El acceso a Google Classroom se habilita para estudiantes inscriptos. Sumate a la lista prioritaria o pedí recomendación por WhatsApp." />
  <link rel="canonical" href="https://omargonza.github.io/online/classroom.html" />
  <meta name="theme-color" content="#d81b7d" />

  <link rel="apple-touch-icon" sizes="180x180" href="/online/assets/icons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/online/assets/icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/online/assets/icons/favicon-16x16.png" />
  <link rel="manifest" href="/online/assets/icons/site.webmanifest" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Playfair+Display:wght@600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <a class="brand" href="./" aria-label="Volver al inicio">
        <img class="brand-logo" src="./assets/logo2.png" alt="Miss Noe Online English" />
        <div class="brand-text">
          <div class="brand-title">Miss Noe</div>
          <div class="brand-subtitle">Online English · Argentina</div>
        </div>
      </a>

      <nav class="nav" aria-label="Navegación">
        <a href="./comprar.html" class="btn btn-primary btn-sm">Inscripción</a>
        <a href="./">Volver</a>
      </nav>
    </div>
  </header>

  <main id="contenido">
    <section class="section reveal" style="padding-top:34px">
      <div class="container">
        <div class="section-head">
          <h1 class="section-title" style="margin:0">Acceder al Google Classroom</h1>
          <p class="section-subtitle" style="margin-top:10px">
            El campus se habilita para <strong>estudiantes inscriptos</strong>.
            Estamos preparando el material completo para <strong>febrero</strong>.
          </p>
        </div>

        <!-- BLOQUE PRO: Info detectada (goal/level) -->
        <div class="callout callout-clean" id="profileCallout" style="margin-top:14px">
          <div class="callout-left">
            <strong>Tu info (detectada)</strong>
            <div class="muted" style="margin-top:6px">
              Objetivo: <strong id="pfGoal">A definir</strong> · Nivel: <strong id="pfLevel">A definir</strong>
            </div>
            <div class="muted small" id="pfHint" style="margin-top:6px">
              Si querés, hacé el test para estimar tu nivel y recibir una recomendación más precisa.
            </div>
          </div>
          <div class="callout-actions" style="flex-wrap:wrap">
            <a class="btn btn-secondary" id="pfTestBtn" href="./#nivel">Hacer test de nivel</a>
            <a class="btn btn-secondary" id="pfClearBtn" href="#" style="display:none">Borrar selección</a>
          </div>
        </div>

        <div class="callout callout-clean" style="margin-top:16px">
          <div class="callout-left">
            <strong>¿Querés que te avisemos apenas esté listo?</strong>
            <div class="muted">
              Sumate a la lista prioritaria o escribinos por WhatsApp para recibir la recomendación.
            </div>
          </div>
          <div class="callout-actions">
            <a class="btn btn-whatsapp btn-lg" id="ctaWhats" href="#" target="_blank" rel="noopener">
              <i class="fab fa-whatsapp"></i> WhatsApp
            </a>
            <a class="btn btn-secondary" href="./comprar.html">Sumarme a la lista</a>
          </div>
        </div>

        <div class="cards" style="margin-top:18px">
          <article class="card">
            <div class="card-top">
              <h3>Si ya sos estudiante</h3>
              <span class="tag">Acceso</span>
            </div>
            <p class="muted">
              Si ya hiciste el pago y estás esperando la invitación, escribinos por WhatsApp con tu email.
            </p>
          </article>

          <article class="card">
            <div class="card-top">
              <h3>Si todavía no compraste</h3>
              <span class="tag">Inscripción</span>
            </div>
            <p class="muted">
              Te orientamos para elegir el curso según tu objetivo y nivel, y te avisamos cuando se habilite el campus.
            </p>
            <a class="btn btn-primary" href="./comprar.html">Ir a inscripción</a>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <img class="footer-logo" src="./assets/logo2.png" alt="Miss Noe Online English" />
        <div class="footer-brand">Miss Noe</div>
        <div class="muted small">Online English · Argentina</div>
      </div>

      <div class="footer-links">
        <a href="./">Inicio</a>
        <a href="./comprar.html">Inscripción</a>
      </div>

      <div class="muted small">© <span id="year"></span> · Todos los derechos reservados</div>
    </div>
  </footer>

  <script>
    // Año footer
    document.getElementById("year").textContent = new Date().getFullYear();

    // WhatsApp (número correcto)
    const WPP = "541151424362";

    // Keys iguales a index/main.js
    const LS_GOAL = "missnoe_goal";
    const LS_LEVEL = "missnoe_level";

    function safeText(s) {
      return String(s || "").trim();
    }

    function readProfile() {
      const goal = safeText(localStorage.getItem(LS_GOAL));
      const level = safeText(localStorage.getItem(LS_LEVEL));
      return { goal, level };
    }

    function setProfileUI({ goal, level }) {
      const pfGoal = document.getElementById("pfGoal");
      const pfLevel = document.getElementById("pfLevel");
      const pfHint = document.getElementById("pfHint");
      const pfClearBtn = document.getElementById("pfClearBtn");
      const pfTestBtn = document.getElementById("pfTestBtn");

      if (pfGoal) pfGoal.textContent = goal || "A definir";
      if (pfLevel) pfLevel.textContent = level || "A definir";

      // Si ya hay level, el botón de test es menos necesario
      if (pfTestBtn) {
        pfTestBtn.style.display = level ? "none" : "";
      }

      // Mostrar botón "Borrar selección" si hay algo guardado
      const hasAny = Boolean(goal || level);
      if (pfClearBtn) pfClearBtn.style.display = hasAny ? "" : "none";

      if (pfHint) {
        pfHint.textContent = hasAny
          ? "Si querés afinar la recomendación, podés hacer el test o contarnos tu objetivo por WhatsApp."
          : "Si querés, hacé el test para estimar tu nivel y recibir una recomendación más precisa.";
      }
    }

    function buildWhatsAppMessage({ goal, level }) {
      let message = "Hola! Quiero info del Google Classroom y cómo seguir.";

      if (goal || level) {
        message += " ";
        if (goal) message += `Mi objetivo es ${goal}. `;
        if (level) message += `Mi nivel estimado es ${level}. `;
        message += "¿Me indicás el estado del acceso y próximos pasos?";
      } else {
        message += " ¿Me indicás el estado del acceso y próximos pasos?";
      }

      return message;
    }

    function setWhatsLink({ goal, level }) {
      const cta = document.getElementById("ctaWhats");
      if (!cta) return;

      const text = encodeURIComponent(buildWhatsAppMessage({ goal, level }));
      cta.href = `https://wa.me/${WPP}?text=${text}`;
    }

    // Init
    const profile = readProfile();
    setProfileUI(profile);
    setWhatsLink(profile);

    // Clear button
    const pfClearBtn = document.getElementById("pfClearBtn");
    if (pfClearBtn) {
      pfClearBtn.addEventListener("click", (e) => {
        e.preventDefault();
        localStorage.removeItem(LS_GOAL);
        localStorage.removeItem(LS_LEVEL);

        const cleared = { goal: "", level: "" };
        setProfileUI(cleared);
        setWhatsLink(cleared);
      });
    }
  </script>
</body>
</html>
